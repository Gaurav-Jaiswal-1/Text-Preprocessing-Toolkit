[tox]
# Specify the Python environments to test against (>=3.8)
envlist = py38, py39, py310, py311, lint, type-check

[tool:pytest]
# Pytest options for testing
addopts = --maxfail=3 --disable-warnings --cov=text_preprocessing_toolkit --cov-report=term-missing --cov-report=html

# Specify the directories where tests are located
testpaths = tests

[coverage:run]
# Enable branch coverage and save data in the .coverage file
branch = True

[coverage:report]
# Set the threshold to 80% minimum code coverage
fail_under = 80
show_missing = True

[coverage:html]
# Store the HTML coverage report in the htmlcov directory
directory = htmlcov

[flake8]
# Flake8 configuration for linting
max-line-length = 88
exclude = .git,__pycache__,docs,build,dist

[mypy]
# Mypy configuration for type checking
files = text_preprocessing_toolkit
ignore_missing_imports = True

[tox:env]
# Define dependencies for the environments

# Python 3.8
py38 =
    pytest>=7.2.0
    pytest-cov>=4.0.0
    flake8>=6.0.0
    mypy>=0.991
    black>=23.1.0
    sphinx>=7.1.2
    sphinx-rtd-theme>=1.2.0

# Python 3.9
py39 =
    pytest>=7.2.0
    pytest-cov>=4.0.0
    flake8>=6.0.0
    mypy>=0.991
    black>=23.1.0
    sphinx>=7.1.2
    sphinx-rtd-theme>=1.2.0

# Python 3.10
py310 =
    pytest>=7.2.0
    pytest-cov>=4.0.0
    flake8>=6.0.0
    mypy>=0.991
    black>=23.1.0
    sphinx>=7.1.2
    sphinx-rtd-theme>=1.2.0

# Python 3.11
py311 =
    pytest>=7.2.0
    pytest-cov>=4.0.0
    flake8>=6.0.0
    mypy>=0.991
    black>=23.1.0
    sphinx>=7.1.2
    sphinx-rtd-theme>=1.2.0

# Linting with flake8 and black
lint =
    flake8
    black

# Type checking with mypy
type-check =
    mypy
